<h4>IndexedDB Example</h4><br />

<!-- SET DATA IN LOCAL STORAGE -->
<div class="d-flex gap-3">
    <h6 class="border w-100" *ngIf="!isUpdate">Add Item</h6>
    <h6 class="border w-100" *ngIf="isUpdate">Update Item</h6>
    <button class="btn btn-dark border w-25" *ngIf="!isUpdate" (click)="addItem()">ADD</button>
    <button class="btn btn-primary border w-25" *ngIf="isUpdate" (click)="updateItem()">UPDATE</button>
    <button class="btn btn-warning text-light border w-25" *ngIf="isUpdate" (click)="clearValues()">CLEAR</button>
</div>

<!-- ITEM FORM -->
<form [formGroup]="itemForm" class="d-flex gap-3 mx-3">
    <input type="text" class="form-control" placeholder="item name" formControlName="itemName">
    <input type="number" class="form-control" placeholder="item count" formControlName="itemCount">
    <input type="number" class="form-control" placeholder="item price" formControlName="itemPrice">
    <input type="text" class="form-control" placeholder="item description" formControlName="itemDescription">
</form><br />

<!-- DISPLAY ITEM -->
<div *ngIf="items.length != 0 else noData">
    <div class="d-flex gap-3 mt-4">
        <h6 class="border w-100">Get Items Using ID</h6>
        <input type="number" class="form-control my-3" placeholder="item id" [(ngModel)]="itemId">
        <button class="btn btn-success border w-25" (click)="getItem()">GET</button>
    </div>
    <div class="d-flex gap-2">
        <h6 class="border w-100">All Items</h6>
        <button class="btn btn-info text-light border w-25" (click)="getAllItems()">GET ALL</button>
        <button class="btn btn-warning text-light border w-25" (click)="clearDatabase()">CLEAR DB</button>
    </div>
    <div class="container">
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Item Name</th>
                    <th>Item Count</th>
                    <th>Item Price</th>
                    <th>Item Description</th>
                    <th>Action</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of items">
                    <td>{{ item.id }}</td>
                    <td>{{ item.itemName }}</td>
                    <td>{{ item.itemCount }}</td>
                    <td>{{ item.itemPrice }}</td>
                    <td>{{ item.itemDescription }}</td>
                    <td>
                        <button class="btn btn-primary" (click)="setItem(item)">UPDATE</button>
                    </td>
                    <td>
                        <button class="btn btn-danger" (click)="deleteItem(item.id)">DELETE</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<ng-template #noData>
    <p class="border">no data to show</p>
</ng-template>